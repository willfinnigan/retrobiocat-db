<div class="modal-header">
    <h6 class="modal-title">Select molecule</h6>
    <button type="button" class="close" onclick=$('a[href="#new_reaction_main"]').tab('show')>
      <span aria-hidden="true">&times;</span>
    </button>
</div>

<div id="new_reaction_mol_buttons">
    <button class="btn btn-outline-primary mol_btn" onclick="new_reaction_molecule_clicked('', '')">Clear</button>
    <button class="btn btn-outline-success mol_btn" onclick="new_reaction_molecule_clicked('', '')">New</button>

    <a data-toggle="collapse" href="#osr_mols_collapse">
        <h5 class="mt-3">OSR Molecules V</h5>
    </a>
    <div class="collapse" id="osr_mols_collapse">
        {% for item in paper_molecules %}
            <button class="btn btn-outline-secondary mol_btn" onclick="new_reaction_molecule_clicked('{{item[1]}}', `{{item[2]}}`)">{{item[2]|safe}} <small>{{item[0]}}</small></button>
        {% endfor %}
    </div>
    <a data-toggle="collapse" href="#substrate_1_mols_collapse">
        <h5 class="mt-3">Substrate 1 mols V</h5>
    </a>
    <div class="collapse" id="substrate_1_mols_collapse">
        {% for smi in activity_mols['substrate_1_mols'] %}
            <button class="btn btn-outline-secondary mol_btn" onclick="new_reaction_molecule_clicked('{{smi}}', `{{activity_mols['substrate_1_mols'][smi]|safe}}`)">{{activity_mols['substrate_1_mols'][smi]|safe}}</button>
        {% endfor %}
    </div>

    <a data-toggle="collapse" href="#substrate_2_mols_collapse">
        <h5 class="mt-3">Substrate 2 mols V</h5>
    </a>
    <div class="collapse" id="substrate_2_mols_collapse">
        {% for smi in activity_mols['substrate_2_mols'] %}
            <button class="btn btn-outline-secondary mol_btn" onclick="new_reaction_molecule_clicked('{{smi}}', `{{activity_mols['substrate_2_mols'][smi]|safe}}`)">{{activity_mols['substrate_2_mols'][smi]|safe}}</button>
        {% endfor %}
    </div>

    <a data-toggle="collapse" href="#product_mols_collapse">
        <h5 class="mt-3">Product mols V</h5>
    </a>
    <div class="collapse" id="product_mols_collapse">
        {% for smi in activity_mols['product_mols'] %}
            <button class="btn btn-outline-secondary mol_btn" onclick="new_reaction_molecule_clicked('{{smi}}', `{{activity_mols['product_mols'][smi]|safe}}`)">{{activity_mols['product_mols'][smi]|safe}}</button>
        {% endfor %}
    </div>



</div>

<script>
    function new_reaction_molecule_clicked(smi, svg) {
        if (NEW_REAC_SELECTED_MOL === 's1') {
            NEW_REAC_s1 = smi
            if (smi === "") {
                svg = 'Choose molecule\n(substrate 1)'
            }
            document.getElementById('new_reaction_btn_mol_s1').innerHTML = svg
        } else if (NEW_REAC_SELECTED_MOL === 's2') {
            NEW_REAC_s2 = smi
            if (smi === "") {
                svg = 'Choose molecule\n(substrate 2)'
            }
            document.getElementById('new_reaction_btn_mol_s2').innerHTML = svg
        } else if (NEW_REAC_SELECTED_MOL === 'p') {
            NEW_REAC_p = smi
            if (smi === "") {
                svg = 'Choose molecule\n(product)'
            }
            document.getElementById('new_reaction_btn_mol_p').innerHTML = svg
        }

        $('a[href="#new_reaction_main"]').tab('show')
    }

</script>