{% extends "base.html" %}
{% set active_page = "login" %}

{% from "security/_macros.html" import render_field_with_errors, render_field, render_field_errors %}
{% from 'global/macros/login_form_macros.html' import email with context %}
{% from 'global/macros/login_form_macros.html' import password with context %}
{% from 'global/macros/form_macros.html' import checkbox with context %}

{% block content %}
    <div class="container">
        <form id="main_form" method="POST" action="" novalidate>
            <div class="row">
                <div class="col-sm-7 mx-auto">
                    <div class="card card-form my-5">
                        <div class="card-body" align="center">
                            <h3 class="card-title">{{ _('Change password') }}</h3>

                            {% include "security/_messages.html" %}

                            <form action="{{ url_for_security('change_password') }}" method="POST">
                                {{ change_password_form.hidden_tag() }}
                                {{ password(change_password_form.password) }}
                                {{ password(change_password_form.new_password) }}
                                {{ password(change_password_form.new_password_confirm) }}
                                <div class="form-group my-2">
                                    {{ change_password_form.submit(class="btn-lg btn-block btn-warning", form="main_form") }}
                                </div>
                            </form>

                            {% include "security/_menu.html" %}

                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}
